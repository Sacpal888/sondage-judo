<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personnalisation Design</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="config.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        #authLoading {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            color: white;
            font-size: 1.2em;
        }
        
        #authLoading.hidden {
            display: none;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid rgba(255,255,255,0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .header h1 {
            color: #333;
            margin: 0;
        }
        
        .back-btn {
            background: #6c757d;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-block;
        }
        
        .back-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(108, 117, 125, 0.4);
        }
        
        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .section h2 {
            color: #333;
            margin-bottom: 15px;
            border-bottom: 2px solid #dee2e6;
            padding-bottom: 10px;
        }
        
        .color-group {
            margin-bottom: 20px;
        }
        
        .color-group label {
            display: block;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }
        
        .color-input-wrapper {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        
        input[type="color"] {
            width: 60px;
            height: 40px;
            border: 2px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
        }
        
        input[type="text"] {
            flex: 1;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            font-family: monospace;
        }
        
        .bilingual-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .lang-label {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            margin-left: 8px;
        }
        
        .lang-label.fr {
            background: #0055A4;
            color: white;
        }
        
        .lang-label.nl {
            background: #FF6600;
            color: white;
        }
        
        .form-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .form-label {
            display: block;
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }
        
        .save-btn, .reset-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s;
        }
        
        .save-btn:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .reset-btn {
            background: #ccc;
        }
        
        .reset-btn:hover {
            background: #999;
        }
        
        .success-btn {
            background: #28a745 !important;
        }
        
        .success-btn:hover {
            background: #218838 !important;
        }
        
        .danger-btn {
            background: #dc3545 !important;
        }
        
        .danger-btn:hover {
            background: #c82333 !important;
        }
        
        .info-btn {
            background: #17a2b8 !important;
        }
        
        .info-btn:hover {
            background: #138496 !important;
        }
        
        #statusMessage {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        #statusMessage.success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        #statusMessage.error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        #statusMessage.info {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .preset-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border: 2px solid #dee2e6;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .preset-item.active {
            border-color: #28a745;
            background: #d4edda;
        }
        
        .preset-name {
            font-weight: 600;
            color: #333;
        }
        
        .preset-actions {
            display: flex;
            gap: 8px;
        }
        
        .preset-actions button {
            padding: 6px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 600;
            transition: all 0.3s;
        }
    </style>
</head>
<body>
    <div id="authLoading">
        <div style="text-align: center;">
            <div class="spinner"></div>
            <div>V√©rification de l'authentification...</div>
        </div>
    </div>

    <div class="container" id="mainContainer" style="display: none;">
        <div class="header">
            <h1>üé® Personnalisation Design</h1>
            <a href="index.html" class="back-btn">‚Üê Retour</a>
        </div>
        
        <div id="statusMessage"></div>
        
        <!-- Section Texte Fran√ßais/N√©erlandais -->
        <div class="section">
            <h2>üìù Couleurs du Texte (Bilingue)</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Personnalisez les couleurs du texte principal pour chaque langue
            </p>
            
            <div class="bilingual-group">
                <div class="color-group">
                    <label for="textColorFr">Texte principal <span class="lang-label fr">FR</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="textColorFr" value="#ffffff">
                        <input type="text" id="textColorFrHex" value="#ffffff" placeholder="#ffffff" maxlength="7">
                    </div>
                </div>
                
                <div class="color-group">
                    <label for="textColorNl">Tekst hoofdtekst <span class="lang-label nl">NL</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="textColorNl" value="#ffffff">
                        <input type="text" id="textColorNlHex" value="#ffffff" placeholder="#ffffff" maxlength="7">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section Titres Fran√ßais/N√©erlandais -->
        <div class="section">
            <h2>üìå Couleurs des Titres (Bilingue)</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Personnalisez les couleurs des titres pour chaque langue
            </p>
            
            <div class="bilingual-group">
                <div class="color-group">
                    <label for="titleColorFr">Titre principal <span class="lang-label fr">FR</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="titleColorFr" value="#d4af37">
                        <input type="text" id="titleColorFrHex" value="#d4af37" placeholder="#d4af37" maxlength="7">
                    </div>
                </div>
                
                <div class="color-group">
                    <label for="titleColorNl">Hoofdtitel <span class="lang-label nl">NL</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="titleColorNl" value="#d4af37">
                        <input type="text" id="titleColorNlHex" value="#d4af37" placeholder="#d4af37" maxlength="7">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section Descriptions Fran√ßais/N√©erlandais -->
        <div class="section">
            <h2>üí¨ Couleurs des Descriptions (Bilingue)</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Personnalisez les couleurs des descriptions/sous-titres pour chaque langue
            </p>
            
            <div class="bilingual-group">
                <div class="color-group">
                    <label for="descColorFr">Description <span class="lang-label fr">FR</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="descColorFr" value="#f0f0f0">
                        <input type="text" id="descColorFrHex" value="#f0f0f0" placeholder="#f0f0f0" maxlength="7">
                    </div>
                </div>
                
                <div class="color-group">
                    <label for="descColorNl">Beschrijving <span class="lang-label nl">NL</span></label>
                    <div class="color-input-wrapper">
                        <input type="color" id="descColorNl" value="#f0f0f0">
                        <input type="text" id="descColorNlHex" value="#f0f0f0" placeholder="#f0f0f0" maxlength="7">
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section Couleurs de Fond -->
        <div class="section">
            <h2>üé® Couleurs de Fond et Containers</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Personnalisez les couleurs de fond des diff√©rents √©l√©ments
            </p>
            
            <div class="color-group">
                <label for="bgColor">Couleur de fond g√©n√©rale</label>
                <div class="color-input-wrapper">
                    <input type="color" id="bgColor" value="#0d2744">
                    <input type="text" id="bgColorHex" value="#0d2744" placeholder="#0d2744" maxlength="7">
                </div>
            </div>
            
            <div class="color-group">
                <label for="containerColor">Couleur des containers</label>
                <div class="color-input-wrapper">
                    <input type="color" id="containerColor" value="#1a3a5a">
                    <input type="text" id="containerColorHex" value="#1a3a5a" placeholder="#1a3a5a" maxlength="7">
                </div>
            </div>
            
            <div class="color-group">
                <label for="casesColor">Couleur des cases de choix</label>
                <div class="color-input-wrapper">
                    <input type="color" id="casesColor" value="#2a4a6a">
                    <input type="text" id="casesColorHex" value="#2a4a6a" placeholder="#2a4a6a" maxlength="7">
                </div>
            </div>
        </div>
        
        <!-- Section Bordures et Pourcentages -->
        <div class="section">
            <h2>üñåÔ∏è Bordures et Pourcentages</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Personnalisez les couleurs des bordures et des √©l√©ments de progression
            </p>
            
            <div class="color-group">
                <label for="borderColor">Couleur des bordures (cases, containers)</label>
                <div class="color-input-wrapper">
                    <input type="color" id="borderColor" value="#d4af37">
                    <input type="text" id="borderColorHex" value="#d4af37" placeholder="#d4af37" maxlength="7">
                </div>
            </div>
            
            <div class="color-group">
                <label for="percentageColor">Couleur des pourcentages et barres de progression</label>
                <div class="color-input-wrapper">
                    <input type="color" id="percentageColor" value="#d4af37">
                    <input type="text" id="percentageColorHex" value="#d4af37" placeholder="#d4af37" maxlength="7">
                </div>
            </div>
        </div>
        
        <!-- Section Gestion des Presets -->
        <div class="section">
            <h2>üíæ Gestion des Presets</h2>
            <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                Sauvegardez et g√©rez vos combinaisons de couleurs
            </p>
            
            <div class="color-group">
                <label for="presetName">Nom du preset</label>
                <input type="text" id="presetName" class="form-input" placeholder="Ex: Judo Or, Tractebel Bleu, Corporate Vert...">
            </div>
            
            <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                <button class="save-btn success-btn" onclick="saveAsPreset()" style="flex: 1;">üíæ Sauvegarder comme preset</button>
            </div>
            
            <div id="presetsList" style="margin-top: 20px;">
                <p style="color: #666; font-size: 14px; margin-bottom: 10px;">
                    <strong>Presets disponibles :</strong>
                </p>
                <div id="presetsContainer"></div>
            </div>
        </div>
        
        <!-- Boutons d'action -->
        <div style="display: flex; gap: 10px; justify-content: center; margin-top: 30px;">
            <button class="save-btn" onclick="applyPreset()">‚úì Appliquer le design</button>
            <button class="reset-btn" onclick="resetToDefaults()">‚Ü∫ R√©initialiser</button>
        </div>
        
        <div style="background: #fff3cd; padding: 15px; border-radius: 8px; margin-top: 20px; border: 1px solid #ffeaa7;">
            <strong>‚ÑπÔ∏è Comment √ßa marche :</strong><br>
            - Utilisez les s√©lecteurs de couleur ou entrez directement un code hexad√©cimal<br>
            - Sauvegardez vos combinaisons en tant que presets pour les r√©utiliser<br>
            - Le preset marqu√© comme "Actif" sera utilis√© sur toutes les pages<br>
            - Cliquez sur "Activer" pour d√©finir un preset comme actif
        </div>
    </div>

    <script>
        let supabaseClient;
        let currentUser = null;
        
        // ============================================
        // AUTHENTIFICATION
        // ============================================
        
        async function checkAuth() {
            try {
                if (typeof SUPABASE_URL === 'undefined' || typeof SUPABASE_ANON_KEY === 'undefined') {
                    console.error('Configuration Supabase manquante');
                    window.location.href = 'login.html';
                    return false;
                }
                
                supabaseClient = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                
                const { data: { session }, error } = await supabaseClient.auth.getSession();
                
                if (error || !session) {
                    console.log('Pas de session active');
                    window.location.href = 'login.html';
                    return false;
                }
                
                currentUser = session.user;
                console.log('Utilisateur connect√©:', currentUser.email);
                
                document.getElementById('authLoading').classList.add('hidden');
                document.getElementById('mainContainer').style.display = 'block';
                
                loadPresets();
                
                return true;
                
            } catch (error) {
                console.error('Erreur authentification:', error);
                window.location.href = 'login.html';
                return false;
            }
        }
        
        // ============================================
        // SYNCHRONISATION DES INPUTS
        // ============================================
        
        function syncColorInputs(colorId, hexId) {
            const colorInput = document.getElementById(colorId);
            const hexInput = document.getElementById(hexId);
            
            colorInput.addEventListener('input', () => {
                hexInput.value = colorInput.value;
            });
            
            hexInput.addEventListener('input', () => {
                if (/^#[0-9A-F]{6}$/i.test(hexInput.value)) {
                    colorInput.value = hexInput.value;
                }
            });
        }
        
        // Initialiser la synchronisation pour tous les inputs
        function initColorSync() {
            syncColorInputs('textColorFr', 'textColorFrHex');
            syncColorInputs('textColorNl', 'textColorNlHex');
            syncColorInputs('titleColorFr', 'titleColorFrHex');
            syncColorInputs('titleColorNl', 'titleColorNlHex');
            syncColorInputs('descColorFr', 'descColorFrHex');
            syncColorInputs('descColorNl', 'descColorNlHex');
            syncColorInputs('bgColor', 'bgColorHex');
            syncColorInputs('containerColor', 'containerColorHex');
            syncColorInputs('casesColor', 'casesColorHex');
            syncColorInputs('borderColor', 'borderColorHex');
            syncColorInputs('percentageColor', 'percentageColorHex');
        }
        
        // ============================================
        // AFFICHAGE DE MESSAGES
        // ============================================
        
        function showStatus(message, type = 'info') {
            const statusDiv = document.getElementById('statusMessage');
            statusDiv.textContent = message;
            statusDiv.className = type;
            statusDiv.style.display = 'block';
            
            setTimeout(() => {
                statusDiv.style.display = 'none';
            }, 5000);
        }
        
        // ============================================
        // GESTION DES PRESETS
        // ============================================
        
        async function loadPresets() {
            try {
                const { data: presets, error } = await supabaseClient
                    .from('design_presets')
                    .select('*')
                    .order('created_at', { ascending: false });
                
                if (error) {
                    console.error('Erreur chargement presets:', error);
                    return;
                }
                
                const container = document.getElementById('presetsContainer');
                container.innerHTML = '';
                
                if (!presets || presets.length === 0) {
                    container.innerHTML = '<p style="color: #999; font-style: italic;">Aucun preset disponible</p>';
                    return;
                }
                
                presets.forEach(preset => {
                    const item = document.createElement('div');
                    item.className = 'preset-item' + (preset.is_active ? ' active' : '');
                    
                    item.innerHTML = `
                        <div>
                            <span class="preset-name">${preset.name}</span>
                            ${preset.is_active ? ' <span style="color: #28a745; font-weight: bold;">‚óè Actif</span>' : ''}
                        </div>
                        <div class="preset-actions">
                            <button class="info-btn" onclick="loadPresetData(${preset.id})">Charger</button>
                            <button class="success-btn" onclick="activatePreset(${preset.id})">Activer</button>
                            <button class="danger-btn" onclick="deletePreset(${preset.id})">Supprimer</button>
                        </div>
                    `;
                    
                    container.appendChild(item);
                });
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors du chargement des presets', 'error');
            }
        }
        
        async function loadPresetData(presetId) {
            try {
                const { data: preset, error } = await supabaseClient
                    .from('design_presets')
                    .select('*')
                    .eq('id', presetId)
                    .single();
                
                if (error) throw error;
                
                // Charger les valeurs dans les inputs
                document.getElementById('textColorFr').value = preset.text_color_fr || '#ffffff';
                document.getElementById('textColorFrHex').value = preset.text_color_fr || '#ffffff';
                document.getElementById('textColorNl').value = preset.text_color_nl || '#ffffff';
                document.getElementById('textColorNlHex').value = preset.text_color_nl || '#ffffff';
                
                document.getElementById('titleColorFr').value = preset.title_color_fr || '#d4af37';
                document.getElementById('titleColorFrHex').value = preset.title_color_fr || '#d4af37';
                document.getElementById('titleColorNl').value = preset.title_color_nl || '#d4af37';
                document.getElementById('titleColorNlHex').value = preset.title_color_nl || '#d4af37';
                
                document.getElementById('descColorFr').value = preset.description_color_fr || '#f0f0f0';
                document.getElementById('descColorFrHex').value = preset.description_color_fr || '#f0f0f0';
                document.getElementById('descColorNl').value = preset.description_color_nl || '#f0f0f0';
                document.getElementById('descColorNlHex').value = preset.description_color_nl || '#f0f0f0';
                
                document.getElementById('bgColor').value = preset.bg_color || '#0d2744';
                document.getElementById('bgColorHex').value = preset.bg_color || '#0d2744';
                document.getElementById('containerColor').value = preset.color_container || '#1a3a5a';
                document.getElementById('containerColorHex').value = preset.color_container || '#1a3a5a';
                document.getElementById('casesColor').value = preset.color_cases || '#2a4a6a';
                document.getElementById('casesColorHex').value = preset.color_cases || '#2a4a6a';
                
                document.getElementById('borderColor').value = preset.border_color || '#d4af37';
                document.getElementById('borderColorHex').value = preset.border_color || '#d4af37';
                document.getElementById('percentageColor').value = preset.percentage_color || '#d4af37';
                document.getElementById('percentageColorHex').value = preset.percentage_color || '#d4af37';
                
                showStatus(`Preset "${preset.name}" charg√©`, 'success');
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors du chargement du preset', 'error');
            }
        }
        
        async function saveAsPreset() {
            const presetName = document.getElementById('presetName').value.trim();
            
            if (!presetName) {
                showStatus('Veuillez entrer un nom pour le preset', 'error');
                return;
            }
            
            try {
                const { data, error } = await supabaseClient
                    .from('design_presets')
                    .insert([{
                        name: presetName,
                        text_color_fr: document.getElementById('textColorFr').value,
                        text_color_nl: document.getElementById('textColorNl').value,
                        title_color_fr: document.getElementById('titleColorFr').value,
                        title_color_nl: document.getElementById('titleColorNl').value,
                        description_color_fr: document.getElementById('descColorFr').value,
                        description_color_nl: document.getElementById('descColorNl').value,
                        bg_color: document.getElementById('bgColor').value,
                        color_container: document.getElementById('containerColor').value,
                        color_cases: document.getElementById('casesColor').value,
                        border_color: document.getElementById('borderColor').value,
                        percentage_color: document.getElementById('percentageColor').value,
                        is_active: false
                    }])
                    .select();
                
                if (error) throw error;
                
                document.getElementById('presetName').value = '';
                showStatus(`Preset "${presetName}" sauvegard√© avec succ√®s`, 'success');
                loadPresets();
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors de la sauvegarde du preset', 'error');
            }
        }
        
        async function activatePreset(presetId) {
            try {
                // D√©sactiver tous les presets
                await supabaseClient
                    .from('design_presets')
                    .update({ is_active: false })
                    .neq('id', 0);
                
                // Activer le preset s√©lectionn√©
                const { error } = await supabaseClient
                    .from('design_presets')
                    .update({ is_active: true })
                    .eq('id', presetId);
                
                if (error) throw error;
                
                showStatus('Preset activ√© avec succ√®s', 'success');
                loadPresets();
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors de l\'activation du preset', 'error');
            }
        }
        
        async function deletePreset(presetId) {
            if (!confirm('√ätes-vous s√ªr de vouloir supprimer ce preset ?')) {
                return;
            }
            
            try {
                const { error } = await supabaseClient
                    .from('design_presets')
                    .delete()
                    .eq('id', presetId);
                
                if (error) throw error;
                
                showStatus('Preset supprim√© avec succ√®s', 'success');
                loadPresets();
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors de la suppression du preset', 'error');
            }
        }
        
        async function applyPreset() {
            if (!confirm('Appliquer ce design ? Le preset actif sera mis √† jour.')) {
                return;
            }
            
            try {
                // Trouver le preset actif
                const { data: activePreset, error: fetchError } = await supabaseClient
                    .from('design_presets')
                    .select('id')
                    .eq('is_active', true)
                    .single();
                
                if (fetchError || !activePreset) {
                    showStatus('Aucun preset actif trouv√©. Veuillez activer un preset d\'abord.', 'error');
                    return;
                }
                
                // Mettre √† jour le preset actif avec les valeurs actuelles
                const { error: updateError } = await supabaseClient
                    .from('design_presets')
                    .update({
                        text_color_fr: document.getElementById('textColorFr').value,
                        text_color_nl: document.getElementById('textColorNl').value,
                        title_color_fr: document.getElementById('titleColorFr').value,
                        title_color_nl: document.getElementById('titleColorNl').value,
                        description_color_fr: document.getElementById('descColorFr').value,
                        description_color_nl: document.getElementById('descColorNl').value,
                        bg_color: document.getElementById('bgColor').value,
                        color_container: document.getElementById('containerColor').value,
                        color_cases: document.getElementById('casesColor').value,
                        border_color: document.getElementById('borderColor').value,
                        percentage_color: document.getElementById('percentageColor').value
                    })
                    .eq('id', activePreset.id);
                
                if (updateError) throw updateError;
                
                showStatus('Design appliqu√© avec succ√®s ! Les modifications sont visibles sur toutes les pages.', 'success');
                
            } catch (error) {
                console.error('Erreur:', error);
                showStatus('Erreur lors de l\'application du design', 'error');
            }
        }
        
        function resetToDefaults() {
            if (!confirm('R√©initialiser toutes les couleurs aux valeurs par d√©faut ?')) {
                return;
            }
            
            document.getElementById('textColorFr').value = '#ffffff';
            document.getElementById('textColorFrHex').value = '#ffffff';
            document.getElementById('textColorNl').value = '#ffffff';
            document.getElementById('textColorNlHex').value = '#ffffff';
            
            document.getElementById('titleColorFr').value = '#d4af37';
            document.getElementById('titleColorFrHex').value = '#d4af37';
            document.getElementById('titleColorNl').value = '#d4af37';
            document.getElementById('titleColorNlHex').value = '#d4af37';
            
            document.getElementById('descColorFr').value = '#f0f0f0';
            document.getElementById('descColorFrHex').value = '#f0f0f0';
            document.getElementById('descColorNl').value = '#f0f0f0';
            document.getElementById('descColorNlHex').value = '#f0f0f0';
            
            document.getElementById('bgColor').value = '#0d2744';
            document.getElementById('bgColorHex').value = '#0d2744';
            document.getElementById('containerColor').value = '#1a3a5a';
            document.getElementById('containerColorHex').value = '#1a3a5a';
            document.getElementById('casesColor').value = '#2a4a6a';
            document.getElementById('casesColorHex').value = '#2a4a6a';
            
            document.getElementById('borderColor').value = '#d4af37';
            document.getElementById('borderColorHex').value = '#d4af37';
            document.getElementById('percentageColor').value = '#d4af37';
            document.getElementById('percentageColorHex').value = '#d4af37';
            
            showStatus('Valeurs r√©initialis√©es aux param√®tres par d√©faut', 'info');
        }
        
        // ============================================
        // INITIALISATION
        // ============================================
        
        window.addEventListener('DOMContentLoaded', async () => {
            const authenticated = await checkAuth();
            if (authenticated) {
                initColorSync();
            }
        });
    </script>
</body>
</html>
